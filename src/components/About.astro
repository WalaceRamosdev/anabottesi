---
import { Image } from "astro:assets";
import anaAbout from "../assets/profissional/anaBottesi2.svg";
import officeImg from "../assets/profissional/anaBottesi3.svg";
import abstractImg from "../assets/abstract-psychology.svg";
---

<section id="sobre" class="bg-white py-24 overflow-hidden">
    <div
        class="max-w-7xl mx-auto px-4 md:px-8 grid md:grid-cols-2 gap-16 items-center"
    >
        <div class="relative order-2 md:order-1">
            <div
                class="absolute -top-10 -left-10 w-40 h-40 bg-brand-secondary/10 rounded-full blur-2xl"
            >
            </div>

            <!-- Grid de Imagens com Estética Premium -->
            <div class="grid grid-cols-2 gap-3 md:gap-6">
                <div class="space-y-3 md:space-y-6 pt-8 md:pt-12">
                    <!-- Imagem 1: Consultório (Escondendo logo da base) -->
                    <div
                        class="h-52 md:h-80 bg-slate-100 rounded-3xl overflow-hidden shadow-xl border-4 border-white transition-transform duration-500 hover:scale-[1.02] relative"
                    >
                        <div class="absolute inset-0 z-0">
                            <Image
                                src={officeImg}
                                alt="Consultório Ana Bottesi"
                                class="w-full h-full object-cover object-top rounded-3xl"
                            />
                        </div>
                        <!-- Overlay para certificar que a logo na base da foto original não apareça -->
                    </div>

                    <!-- Card de Citação Centralizado -->
                    <div
                        class="h-40 md:h-56 bg-brand-bg rounded-3xl p-4 md:p-8 flex items-center justify-center text-center border border-brand-primary/10 shadow-sm relative overflow-hidden group"
                    >
                        <div
                            class="absolute top-0 left-0 w-full h-1 bg-brand-primary/20"
                        >
                        </div>
                        <p
                            class="text-brand-primary font-serif text-base md:text-2xl leading-tight md:leading-relaxed italic relative z-10 transition-colors duration-300 group-hover:text-brand-accent break-words hyphens-auto"
                        >
                            "A análise é um reencaminhamento."
                        </p>
                    </div>
                </div>

                <div class="space-y-3 md:space-y-6">
                    <!-- Card da Borboleta Animada (Visual Premium) -->
                    <div
                        class="h-40 md:h-56 bg-brand-secondary/5 rounded-3xl flex flex-col items-center justify-center p-4 md:p-6 border border-brand-secondary/20 shadow-inner group relative"
                    >
                        <div
                            class="relative w-24 h-24 md:w-32 md:h-32 flex items-center justify-center"
                        >
                            <!-- Borboleta Animada via CSS para ser ultra-premium e leve -->
                            <div class="butterfly-container scale-150">
                                <div class="butterfly">
                                    <div class="wing left"></div>
                                    <div class="wing right"></div>
                                </div>
                            </div>
                            <!-- Brilho suave ao redor -->
                            <div
                                class="absolute inset-0 bg-brand-primary/10 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"
                            >
                            </div>
                        </div>
                        <span
                            class="text-[10px] uppercase tracking-[0.3em] text-brand-text mt-4 font-bold"
                            >Metamorfose</span
                        >
                    </div>

                    <!-- Imagem 2: Profissional (Ajuste para nao cortar e adicionar abstrato) -->
                    <div
                        class="relative w-full rounded-3xl overflow-hidden shadow-xl border-4 border-white transition-transform duration-500 hover:scale-[1.02]"
                    >
                        <Image
                            src={anaAbout}
                            alt="Ana Bottesi Psicanalista"
                            class="w-full h-auto object-contain rounded-3xl"
                        />

                        <!-- Elemento Abstrato Sobreposto (Relacionado ao Blog) -->
                        <div
                            class="absolute -bottom-10 -right-10 w-48 h-48 opacity-60 mix-blend-multiply pointer-events-none rotate-12"
                        >
                            <Image
                                src={abstractImg}
                                alt="Arte Abstrata Psicologia"
                                class="w-full h-full object-contain"
                            />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="order-1 md:order-2" id="about-text">
            <h2
                class="text-brand-primary text-sm font-bold uppercase tracking-widest mb-4"
            >
                Terapia Online Especializada em Mulheres
            </h2>
            <h3 class="text-4xl md:text-5xl font-bold mb-8 leading-tight">
                Acolhimento psicanalítico para quem busca <span
                    class="text-brand-accent">transformação</span
                > real em São Paulo.
            </h3>

            <div class="space-y-6 text-brand-text/80 text-lg leading-relaxed">
                <p>
                    Muitas vezes, a exaustão que você sente não é física, é
                    emocional. É o peso de papéis que não cabem mais em você, de
                    relacionamentos que drenam sua energia e da busca incessante
                    por uma perfeição que não existe.
                </p>
                <p>
                    Como psicanalista em São Paulo, meu trabalho é oferecer um
                    espaço de escuta psicanalítica e acolhimento. Um lugar onde
                    você pode baixar a guarda, desconstruir padrões e iniciar
                    sua própria metamorfose.
                </p>
                <p class="font-bold text-brand-primary">
                    A psicanálise não é apenas sobre entender o passado, mas
                    sobre construir um novo futuro onde você seja a protagonista
                    da sua própria história.
                </p>
            </div>

            <div class="mt-10">
                <a
                    href="https://wa.me/5511973454557?text=Olá Ana! Gostaria de agendar uma primeira sessão."
                    target="_blank"
                    class="btn-primary inline-block"
                >
                    Agendar análise
                </a>
            </div>
        </div>
    </div>
</section>

<style>
    /* Butterfly Illustration Animation (Premium & High Performance) */
    .butterfly-container {
        perspective: 500px;
        filter: drop-shadow(0 10px 15px rgba(140, 115, 85, 0.2));
    }

    .butterfly {
        width: 60px;
        height: 50px;
        position: relative;
        transform-style: preserve-3d;
        transform: rotateX(20deg) rotateY(-20deg);
    }

    .wing {
        position: absolute;
        width: 30px;
        height: 50px;
        background: linear-gradient(135deg, #8c7355, #a3b18a);
        border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
        transform-origin: right center;
        animation: flap-left 0.8s ease-in-out infinite alternate;
    }

    .wing.right {
        left: 30px;
        transform-origin: left center;
        animation: flap-right 0.8s ease-in-out infinite alternate;
    }

    @keyframes flap-left {
        from {
            transform: rotateY(0deg);
        }
        to {
            transform: rotateY(70deg);
        }
    }

    @keyframes flap-right {
        from {
            transform: rotateY(0deg);
        }
        to {
            transform: rotateY(-70deg);
        }
    }

    .wing::before {
        content: "";
        position: absolute;
        top: 5px;
        left: 5px;
        right: 5px;
        bottom: 5px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: inherit;
    }
</style>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const initAboutAnimation = () => {
        gsap.from("#about-text > *", {
            scrollTrigger: {
                trigger: "#about-text",
                start: "top 80%",
            },
            y: 30,
            opacity: 0,
            stagger: 0.1,
            duration: 1,
        });
    };

    initAboutAnimation();
    document.addEventListener("astro:after-swap", initAboutAnimation);
</script>
